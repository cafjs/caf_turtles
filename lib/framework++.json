{
    "name": "top",
    "env" : {
        "appPublisher" :"process.env.APP_PUBLISHER||root",
        "appLocalName" : "process.env.APP_LOCAL_NAME||turtles",
        "appSuffix" : "process.env.APP_SUFFIX||cafjs.com"
     },
    "components": [
        {
            "name": "log",
            "env" : {
                "logLevel" : "process.env.LOG_LEVEL||WARN"
            }
        },
        {
            "name": "cp2"
        },
        {
            "module": "caf_deploy#plug",
            "name": "deploy",
            "description": "Shared plug to deploy apps in Kubernetes\n Properties: \n",
            "env": {
                "targetPaaS": "process.env.TARGET_PAAS||kubernetes",
                "refreshInterval" : "process.env.REFRESH_INTERVAL||1000",
                "useK8SConfig" : "process.env.USE_K8S_CONFIG||false",
                "redis" : {
                    "k8SNamespace" : "process.env.REDIS_K8S_NAMESPACE||redis",
                    "templateFile" : "process.env.REDIS_TEMPLATE_FILE||kubernetes.redis.mus",
                    "image" : "process.env.REDIS_IMAGE||redis:3",
                    "isUntrusted": "process.env.IS_UNTRUSTED||true",
                    "cpus" : "process.env.REDIS_CPUS||0.02",
                    "cpusLimit" : "process.env.REDIS_CPUS_LIMIT||0.1",
                    "memory" : "process.env.REDIS_MEMORY||64.0",
                    "memoryLimit" : "process.env.REDIS_MEMORY_LIMIT||128.0"
                },
                "app" : {
                    "k8SNamespace" : "process.env.APP_K8S_NAMESPACE||apps",
                    "templateFile" : "process.env.APP_TEMPLATE_FILE||kubernetes.app.mus",
                    "cpus" : "process.env.APP_CPUS||0.02",
                    "cpusLimit": "process.env.APP_CPUS_LIMIT||0.1",
                    "args": "process.env.APP_ARGS||[\"--max_old_space_size=96\", \"./index.js\"]",
                    "memory" : "process.env.APP_MEMORY||96.0",
                    "memoryLimit" : "process.env.APP_MEMORY_LIMIT||128.0",
                    "storage" : "process.env.APP_STORAGE||16",
                    "storageLimit" : "process.env.APP_STORAGE_LIMIT||32",
                    "instances": "process.env.APP_INSTANCES||1",
                    "isUntrusted": "process.env.IS_UNTRUSTED||true",
                    "isDeployer": "process.env.APP_IS_DEPLOYER||false",
                    "isAccounts": "process.env.APP_IS_ACCOUNTS||false",
                    "isPeople": "process.env.APP_IS_PEOPLE||false",
                    "isUntrusted": "process.env.APP_IS_UNTRUSTED||false",
                    "appSuffix" : "process.env.APP_SUFFIX||cafjs.com",
                    "services" :["redis"]
                }
            }
        },
        {
            "name" : "react",
            "module": "caf_react#plug",
            "description": "React.js background rendering",
            "env": {
                "appFileName" : "../public/index.html",
                "separator" : "<section id=\"content\">",
                "cacheService" : "cp",
                "expiresInSec" : 60
            }
        }
    ]
}
